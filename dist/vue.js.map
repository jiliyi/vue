{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/observer/array.js","../src/observer/index.js","../src/initState.js","../src/compile/index.js","../src/init.js","../src/index.js"],"sourcesContent":["export function isFunction(val){\r\n    return typeof val == 'function';\r\n}\r\nexport function isObject(val){\r\n    return typeof val == 'object' && val != 'null'\r\n}","const oldArrayProto = Array.prototype;\r\nconst Methods = ['splice', 'push', 'pop', 'shift', 'unshift', 'sort', 'reverse'];\r\nconst arrayMethods = Object.create(oldArrayProto)\r\n\r\narrayMethods.__proto__ = Array.prototype;\r\n\r\nMethods.forEach(method => {\r\n    arrayMethods[method] = function (...args) {\r\n        const ob = this.__ob__.observeArray;\r\n        oldArrayProto[method].call(this, ...args);\r\n        let addItem = null;\r\n        switch (method) {\r\n            case 'push':\r\n                addItem = args;\r\n                break;\r\n            case 'unshift':\r\n                addItem = args;\r\n                break;\r\n            case 'splice':\r\n                addItem = args.slice(2);\r\n                break;\r\n        }\r\n         ob(addItem)\r\n    }\r\n})\r\n\r\n\r\n\r\nexport default arrayMethods","import { isObject } from \"../utils\";\r\n\r\nimport arrayMethods from './array'\r\n\r\n\r\n\r\nclass Observer{\r\n    constructor(data){\r\n        if(Array.isArray(data)){\r\n            //对数组进行劫持;\r\n            data.__proto__ = arrayMethods;\r\n            data.__ob__ = this;\r\n           this.observeArray(data);\r\n        }else{\r\n            this.walk(data);\r\n        }\r\n    }\r\n    walk(data){\r\n        Object.keys(data).forEach(key=>{\r\n            defineReactive(data,key,data[key])\r\n        })\r\n    }\r\n    observeArray(data){\r\n        data.forEach(item=>{\r\n            observe(item)\r\n        })\r\n    }\r\n   \r\n}\r\n\r\n\r\nfunction defineReactive(obj,key,val){\r\n    observe(val);\r\n    Object.defineProperty(obj,key,{\r\n        get(){\r\n            \r\n            return val\r\n        },\r\n        set(newV){\r\n            observe(newV)\r\n            val = newV;\r\n        }\r\n    })\r\n}\r\n\r\nexport function observe(data){\r\n    //传入的不是对象，不监测\r\n    if(!isObject(data)) return\r\n    \r\n    new Observer(data);\r\n}","import { isFunction } from \"./utils\";\r\nimport { observe } from './observer/index'\r\n//初始化状态\r\nexport default function initState(vm){\r\n    let options = vm.$options;\r\n    \r\n    if(options.data){\r\n        //初始化data\r\n        initData(vm);\r\n    }\r\n    \r\n    if(options.methods){\r\n        //初始化methods\r\n    }\r\n    if(options.props){\r\n        //初始化props\r\n    }\r\n    if(options.computed){\r\n        //初始化computed\r\n    }\r\n    if(options.watch){\r\n        //初始化watch\r\n    }\r\n\r\n}\r\n\r\nfunction proxy(vm,source,key){\r\n    Object.defineProperty(vm,key,{\r\n        get(){\r\n            return vm[source][key];\r\n        },\r\n        set(newVal){\r\n            vm[source][key] = newVal;\r\n        }\r\n    })    \r\n}\r\n\r\nfunction initData(vm){\r\n    let options = vm.$options;\r\n    let data = options.data;\r\n    data = vm._data = isFunction(data) ? data.call(vm) : data;\r\n    \r\n    for(let key in data){\r\n        //代理，可通过实例直接取数据\r\n        proxy(vm,'_data',key)\r\n    }\r\n    \r\n    observe(data);\r\n}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名 \r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //  用来获取的标签名的 match后的索引为1的\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 匹配开始标签的 \r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配闭合标签的\r\n//           aa  =   \"  xxx \"  | '  xxxx '  | xxx\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // a=b  a=\"b\"  a='b'\r\nconst startTagClose = /^\\s*(\\/?)>/; //     />   <div/>\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{aaaaa}}\r\n\r\n//  <div id=\"app\" name=aa age='19'>\r\n//      <ul data-id=\"10\">\r\n//          <li>{{text}}</li>\r\n//          <li class=\"item\">{{一小项}}</li>\r\n//      </ul>\r\n//  </div> \r\n\r\nlet stack = [];\r\n\r\nlet root;\r\n\r\n// const arr = {\r\n//     tag: 'xx',\r\n//     parent : ''\r\n//     attribute: [],\r\n//     children: [\r\n//         { tagName: 'a', attribute: [], children: [] },\r\n//         { tagName: 'a', attribute: [], children: [] },\r\n//     ]\r\n// }\r\n\r\n/**\r\n * 处理开始标签的token\r\n * @param {*} tagName \r\n * @param {*} attributes \r\n */\r\nfunction start(tagName, attributes) {\r\n    let parent = stack[stack.length - 1];\r\n    let element = {\r\n        tag: tagName,\r\n        type: 1, // 类型为dom\r\n        attributes,\r\n        children: []\r\n    }\r\n    if (parent) {\r\n        parent.children.push(element);\r\n    }else{\r\n        root = element;\r\n    }\r\n    element.parent = parent;\r\n    stack.push(element);\r\n}\r\n\r\nfunction char(text) {\r\n    text = text.replace(/\\s/g, '');\r\n    if (text) {\r\n        let cur = stack[stack.length - 1];\r\n        cur.children.push({\r\n            type: 3,//指代文本元素\r\n            text,\r\n        })\r\n    }\r\n}\r\n\r\nfunction end(tagName) { // 处理结束标签\r\n    let last = stack.pop();\r\n    if (last.tag !== tagName) {\r\n        throw new Error('endTag Not Match')\r\n    }  \r\n}\r\n\r\nfunction parserHTML(html) {\r\n\r\n    function advance(len) {\r\n        html = html.substring(len);\r\n    }\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen);\r\n        if (start) {\r\n            const match = {\r\n                tagName: start[1],\r\n                attributes: []\r\n            }\r\n            //删除匹配成功的部分\r\n            advance(start[0].length);\r\n\r\n            //下一步，匹配属性\r\n            let end, attr;\r\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n                match.attributes.push({\r\n                    name: attr[1],\r\n                    value: attr[3] || attr[4] || attr[5]\r\n                })\r\n                advance(attr[0].length);\r\n            }\r\n            advance(end[0].length); //删除开始标签的 >\r\n            return match;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    while (html) {//有html继续解析\r\n\r\n        let textEnd = html.indexOf('<');\r\n        if (textEnd === 0) {//step one 开始标签\r\n            let startTagMatch = parseStartTag()\r\n            if (startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attributes)\r\n            }\r\n\r\n            let endTagMatch = html.match(endTag); // step three 结束标签\r\n            if (endTagMatch) {\r\n                end(endTagMatch[1])\r\n                advance(endTagMatch[0].length);\r\n            }\r\n        }\r\n\r\n        let text;\r\n        if (textEnd > 0) {\r\n            text = html.substring(0, textEnd);\r\n        }\r\n        if (text) {\r\n            advance(text.length)\r\n            char(text)\r\n        }\r\n    }\r\n}\r\n\r\nexport default function (template) {\r\n\r\n    parserHTML(template);\r\n\r\n    console.log(root);\r\n}","import initState from './initState.js';\r\nimport compileToFunction from './compile/index.js';\r\nexport function initMixin(Vue){\r\n    Vue.prototype._init = function(options){\r\n        let vm = this;\r\n        vm.$el = options.el;\r\n        vm.$options = options;\r\n        initState(vm)\r\n\r\n        if(options.el){\r\n            this.$mount(options.el)\r\n        }\r\n    }\r\n    Vue.prototype.$mount = function(el){\r\n        el = document.querySelector(el)\r\n        const vm = this;\r\n        const options = vm.$options;\r\n        if(!options.render){\r\n            //用户没传render\r\n            let template = options.template;\r\n            if(!template && el){\r\n                template = el.outerHTML;\r\n            }\r\n            let render = compileToFunction(template);\r\n            vm.render = render;\r\n        }\r\n    }\r\n}","import { initMixin } from \"./init.js\";\r\n\r\nfunction Vue(options){\r\n    this._init(options);\r\n}\r\n\r\n\r\ninitMixin(Vue)\r\n\r\nexport default  Vue;"],"names":["isFunction","val","isObject","oldArrayProto","Array","prototype","Methods","arrayMethods","Object","create","__proto__","forEach","method","ob","__ob__","observeArray","args","call","addItem","slice","Observer","data","isArray","walk","keys","key","defineReactive","item","observe","obj","defineProperty","get","set","newV","initState","vm","options","$options","initData","methods","props","computed","watch","proxy","source","newVal","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","stack","root","start","tagName","attributes","parent","length","element","tag","type","children","push","char","text","replace","cur","end","last","pop","Error","parserHTML","html","advance","len","substring","parseStartTag","match","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","template","console","log","initMixin","Vue","_init","$el","el","$mount","document","querySelector","render","outerHTML","compileToFunction"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,SAASA,UAAT,CAAoBC,GAApB,EAAwB;EAC3B,SAAO,OAAOA,GAAP,IAAc,UAArB;EACH;EACM,SAASC,QAAT,CAAkBD,GAAlB,EAAsB;EACzB,SAAO,QAAOA,GAAP,KAAc,QAAd,IAA0BA,GAAG,IAAI,MAAxC;EACH;;ECLD,IAAME,aAAa,GAAGC,KAAK,CAACC,SAA5B;EACA,IAAMC,OAAO,GAAG,CAAC,QAAD,EAAW,MAAX,EAAmB,KAAnB,EAA0B,OAA1B,EAAmC,SAAnC,EAA8C,MAA9C,EAAsD,SAAtD,CAAhB;EACA,IAAMC,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAcN,aAAd,CAArB;EAEAI,YAAY,CAACG,SAAb,GAAyBN,KAAK,CAACC,SAA/B;EAEAC,OAAO,CAACK,OAAR,CAAgB,UAAAC,MAAM,EAAI;EACtBL,EAAAA,YAAY,CAACK,MAAD,CAAZ,GAAuB,YAAmB;EAAA;;EACtC,QAAMC,EAAE,GAAG,KAAKC,MAAL,CAAYC,YAAvB;;EADsC,sCAANC,IAAM;EAANA,MAAAA,IAAM;EAAA;;EAEtC,6BAAAb,aAAa,CAACS,MAAD,CAAb,EAAsBK,IAAtB,+BAA2B,IAA3B,SAAoCD,IAApC;;EACA,QAAIE,OAAO,GAAG,IAAd;;EACA,YAAQN,MAAR;EACI,WAAK,MAAL;EACIM,QAAAA,OAAO,GAAGF,IAAV;EACA;;EACJ,WAAK,SAAL;EACIE,QAAAA,OAAO,GAAGF,IAAV;EACA;;EACJ,WAAK,QAAL;EACIE,QAAAA,OAAO,GAAGF,IAAI,CAACG,KAAL,CAAW,CAAX,CAAV;EACA;EATR;;EAWCN,IAAAA,EAAE,CAACK,OAAD,CAAF;EACJ,GAhBD;EAiBH,CAlBD;;MCAME;EACF,oBAAYC,IAAZ,EAAiB;EAAA;;EACb,QAAGjB,KAAK,CAACkB,OAAN,CAAcD,IAAd,CAAH,EAAuB;EACnB;EACAA,MAAAA,IAAI,CAACX,SAAL,GAAiBH,YAAjB;EACAc,MAAAA,IAAI,CAACP,MAAL,GAAc,IAAd;EACD,WAAKC,YAAL,CAAkBM,IAAlB;EACF,KALD,MAKK;EACD,WAAKE,IAAL,CAAUF,IAAV;EACH;EACJ;;;;aACD,cAAKA,IAAL,EAAU;EACNb,MAAAA,MAAM,CAACgB,IAAP,CAAYH,IAAZ,EAAkBV,OAAlB,CAA0B,UAAAc,GAAG,EAAE;EAC3BC,QAAAA,cAAc,CAACL,IAAD,EAAMI,GAAN,EAAUJ,IAAI,CAACI,GAAD,CAAd,CAAd;EACH,OAFD;EAGH;;;aACD,sBAAaJ,IAAb,EAAkB;EACdA,MAAAA,IAAI,CAACV,OAAL,CAAa,UAAAgB,IAAI,EAAE;EACfC,QAAAA,OAAO,CAACD,IAAD,CAAP;EACH,OAFD;EAGH;;;;;;EAKL,SAASD,cAAT,CAAwBG,GAAxB,EAA4BJ,GAA5B,EAAgCxB,GAAhC,EAAoC;EAChC2B,EAAAA,OAAO,CAAC3B,GAAD,CAAP;EACAO,EAAAA,MAAM,CAACsB,cAAP,CAAsBD,GAAtB,EAA0BJ,GAA1B,EAA8B;EAC1BM,IAAAA,GAD0B,iBACrB;EAED,aAAO9B,GAAP;EACH,KAJyB;EAK1B+B,IAAAA,GAL0B,eAKtBC,IALsB,EAKjB;EACLL,MAAAA,OAAO,CAACK,IAAD,CAAP;EACAhC,MAAAA,GAAG,GAAGgC,IAAN;EACH;EARyB,GAA9B;EAUH;;EAEM,SAASL,OAAT,CAAiBP,IAAjB,EAAsB;EACzB;EACA,MAAG,CAACnB,QAAQ,CAACmB,IAAD,CAAZ,EAAoB;EAEpB,MAAID,QAAJ,CAAaC,IAAb;EACH;;EC/Cc,SAASa,SAAT,CAAmBC,EAAnB,EAAsB;EACjC,MAAIC,OAAO,GAAGD,EAAE,CAACE,QAAjB;;EAEA,MAAGD,OAAO,CAACf,IAAX,EAAgB;EACZ;EACAiB,IAAAA,QAAQ,CAACH,EAAD,CAAR;EACH;;EAED,MAAGC,OAAO,CAACG,OAAX,EAAmB;;EAGnB,MAAGH,OAAO,CAACI,KAAX,EAAiB;;EAGjB,MAAGJ,OAAO,CAACK,QAAX,EAAoB;;EAGpB,MAAGL,OAAO,CAACM,KAAX,EAAiB;EAIpB;;EAED,SAASC,KAAT,CAAeR,EAAf,EAAkBS,MAAlB,EAAyBnB,GAAzB,EAA6B;EACzBjB,EAAAA,MAAM,CAACsB,cAAP,CAAsBK,EAAtB,EAAyBV,GAAzB,EAA6B;EACzBM,IAAAA,GADyB,iBACpB;EACD,aAAOI,EAAE,CAACS,MAAD,CAAF,CAAWnB,GAAX,CAAP;EACH,KAHwB;EAIzBO,IAAAA,GAJyB,eAIrBa,MAJqB,EAId;EACPV,MAAAA,EAAE,CAACS,MAAD,CAAF,CAAWnB,GAAX,IAAkBoB,MAAlB;EACH;EANwB,GAA7B;EAQH;;EAED,SAASP,QAAT,CAAkBH,EAAlB,EAAqB;EACjB,MAAIC,OAAO,GAAGD,EAAE,CAACE,QAAjB;EACA,MAAIhB,IAAI,GAAGe,OAAO,CAACf,IAAnB;EACAA,EAAAA,IAAI,GAAGc,EAAE,CAACW,KAAH,GAAW9C,UAAU,CAACqB,IAAD,CAAV,GAAmBA,IAAI,CAACJ,IAAL,CAAUkB,EAAV,CAAnB,GAAmCd,IAArD;;EAEA,OAAI,IAAII,GAAR,IAAeJ,IAAf,EAAoB;EAChB;EACAsB,IAAAA,KAAK,CAACR,EAAD,EAAI,OAAJ,EAAYV,GAAZ,CAAL;EACH;;EAEDG,EAAAA,OAAO,CAACP,IAAD,CAAP;EACH;;EChDD,IAAM0B,MAAM,iCAAZ;;EACA,IAAMC,YAAY,iBAAUD,MAAV,kBAAwBA,MAAxB,MAAlB;;EACA,IAAME,YAAY,GAAG,IAAIC,MAAJ,aAAgBF,YAAhB,EAArB;;EACA,IAAMG,MAAM,GAAG,IAAID,MAAJ,gBAAmBF,YAAnB,YAAf;EACA;;EACA,IAAMI,SAAS,GAAG,2EAAlB;;EACA,IAAMC,aAAa,GAAG,YAAtB;EAGA;EACA;EACA;EACA;EACA;EACA;;EAEA,IAAIC,KAAK,GAAG,EAAZ;EAEA,IAAIC,IAAJ;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EACA,SAASC,KAAT,CAAeC,OAAf,EAAwBC,UAAxB,EAAoC;EAChC,MAAIC,MAAM,GAAGL,KAAK,CAACA,KAAK,CAACM,MAAN,GAAe,CAAhB,CAAlB;EACA,MAAIC,OAAO,GAAG;EACVC,IAAAA,GAAG,EAAEL,OADK;EAEVM,IAAAA,IAAI,EAAE,CAFI;EAED;EACTL,IAAAA,UAAU,EAAVA,UAHU;EAIVM,IAAAA,QAAQ,EAAE;EAJA,GAAd;;EAMA,MAAIL,MAAJ,EAAY;EACRA,IAAAA,MAAM,CAACK,QAAP,CAAgBC,IAAhB,CAAqBJ,OAArB;EACH,GAFD,MAEK;EACDN,IAAAA,IAAI,GAAGM,OAAP;EACH;;EACDA,EAAAA,OAAO,CAACF,MAAR,GAAiBA,MAAjB;EACAL,EAAAA,KAAK,CAACW,IAAN,CAAWJ,OAAX;EACH;;EAED,SAASK,KAAT,CAAcC,IAAd,EAAoB;EAChBA,EAAAA,IAAI,GAAGA,IAAI,CAACC,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP;;EACA,MAAID,IAAJ,EAAU;EACN,QAAIE,GAAG,GAAGf,KAAK,CAACA,KAAK,CAACM,MAAN,GAAe,CAAhB,CAAf;EACAS,IAAAA,GAAG,CAACL,QAAJ,CAAaC,IAAb,CAAkB;EACdF,MAAAA,IAAI,EAAE,CADQ;EACN;EACRI,MAAAA,IAAI,EAAJA;EAFc,KAAlB;EAIH;EACJ;;EAED,SAASG,GAAT,CAAab,OAAb,EAAsB;EAAE;EACpB,MAAIc,IAAI,GAAGjB,KAAK,CAACkB,GAAN,EAAX;;EACA,MAAID,IAAI,CAACT,GAAL,KAAaL,OAAjB,EAA0B;EACtB,UAAM,IAAIgB,KAAJ,CAAU,kBAAV,CAAN;EACH;EACJ;;EAED,SAASC,UAAT,CAAoBC,IAApB,EAA0B;EAEtB,WAASC,OAAT,CAAiBC,GAAjB,EAAsB;EAClBF,IAAAA,IAAI,GAAGA,IAAI,CAACG,SAAL,CAAeD,GAAf,CAAP;EACH;;EAED,WAASE,aAAT,GAAyB;EACrB,QAAMvB,KAAK,GAAGmB,IAAI,CAACK,KAAL,CAAW/B,YAAX,CAAd;;EACA,QAAIO,KAAJ,EAAW;EACP,UAAMwB,KAAK,GAAG;EACVvB,QAAAA,OAAO,EAAED,KAAK,CAAC,CAAD,CADJ;EAEVE,QAAAA,UAAU,EAAE;EAFF,OAAd,CADO;;EAMPkB,MAAAA,OAAO,CAACpB,KAAK,CAAC,CAAD,CAAL,CAASI,MAAV,CAAP,CANO;;EASP,UAAIU,IAAJ,EAASW,IAAT;;EACA,aAAO,EAAEX,IAAG,GAAGK,IAAI,CAACK,KAAL,CAAW3B,aAAX,CAAR,MAAuC4B,IAAI,GAAGN,IAAI,CAACK,KAAL,CAAW5B,SAAX,CAA9C,CAAP,EAA6E;EACzE4B,QAAAA,KAAK,CAACtB,UAAN,CAAiBO,IAAjB,CAAsB;EAClBiB,UAAAA,IAAI,EAAED,IAAI,CAAC,CAAD,CADQ;EAElBE,UAAAA,KAAK,EAAEF,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAI,CAAC,CAAD,CAAf,IAAsBA,IAAI,CAAC,CAAD;EAFf,SAAtB;EAIAL,QAAAA,OAAO,CAACK,IAAI,CAAC,CAAD,CAAJ,CAAQrB,MAAT,CAAP;EACH;;EACDgB,MAAAA,OAAO,CAACN,IAAG,CAAC,CAAD,CAAH,CAAOV,MAAR,CAAP,CAjBO;;EAkBP,aAAOoB,KAAP;EACH;;EAED,WAAO,KAAP;EACH;;EAED,SAAOL,IAAP,EAAa;EAAC;EAEV,QAAIS,OAAO,GAAGT,IAAI,CAACU,OAAL,CAAa,GAAb,CAAd;;EACA,QAAID,OAAO,KAAK,CAAhB,EAAmB;EAAC;EAChB,UAAIE,aAAa,GAAGP,aAAa,EAAjC;;EACA,UAAIO,aAAJ,EAAmB;EACf9B,QAAAA,KAAK,CAAC8B,aAAa,CAAC7B,OAAf,EAAwB6B,aAAa,CAAC5B,UAAtC,CAAL;EACH;;EAED,UAAI6B,WAAW,GAAGZ,IAAI,CAACK,KAAL,CAAW7B,MAAX,CAAlB,CANe;;EAOf,UAAIoC,WAAJ,EAAiB;EACbjB,QAAAA,GAAG,CAACiB,WAAW,CAAC,CAAD,CAAZ,CAAH;EACAX,QAAAA,OAAO,CAACW,WAAW,CAAC,CAAD,CAAX,CAAe3B,MAAhB,CAAP;EACH;EACJ;;EAED,QAAIO,IAAI,SAAR;;EACA,QAAIiB,OAAO,GAAG,CAAd,EAAiB;EACbjB,MAAAA,IAAI,GAAGQ,IAAI,CAACG,SAAL,CAAe,CAAf,EAAkBM,OAAlB,CAAP;EACH;;EACD,QAAIjB,IAAJ,EAAU;EACNS,MAAAA,OAAO,CAACT,IAAI,CAACP,MAAN,CAAP;;EACAM,MAAAA,KAAI,CAACC,IAAD,CAAJ;EACH;EACJ;EACJ;;EAEc,4BAAUqB,QAAV,EAAoB;EAE/Bd,EAAAA,UAAU,CAACc,QAAD,CAAV;EAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYnC,IAAZ;EACH;;ECpIM,SAASoC,SAAT,CAAmBC,GAAnB,EAAuB;EAC1BA,EAAAA,GAAG,CAACvF,SAAJ,CAAcwF,KAAd,GAAsB,UAASzD,OAAT,EAAiB;EACnC,QAAID,EAAE,GAAG,IAAT;EACAA,IAAAA,EAAE,CAAC2D,GAAH,GAAS1D,OAAO,CAAC2D,EAAjB;EACA5D,IAAAA,EAAE,CAACE,QAAH,GAAcD,OAAd;EACAF,IAAAA,SAAS,CAACC,EAAD,CAAT;;EAEA,QAAGC,OAAO,CAAC2D,EAAX,EAAc;EACV,WAAKC,MAAL,CAAY5D,OAAO,CAAC2D,EAApB;EACH;EACJ,GATD;;EAUAH,EAAAA,GAAG,CAACvF,SAAJ,CAAc2F,MAAd,GAAuB,UAASD,EAAT,EAAY;EAC/BA,IAAAA,EAAE,GAAGE,QAAQ,CAACC,aAAT,CAAuBH,EAAvB,CAAL;EACA,QAAM5D,EAAE,GAAG,IAAX;EACA,QAAMC,OAAO,GAAGD,EAAE,CAACE,QAAnB;;EACA,QAAG,CAACD,OAAO,CAAC+D,MAAZ,EAAmB;EACf;EACA,UAAIX,QAAQ,GAAGpD,OAAO,CAACoD,QAAvB;;EACA,UAAG,CAACA,QAAD,IAAaO,EAAhB,EAAmB;EACfP,QAAAA,QAAQ,GAAGO,EAAE,CAACK,SAAd;EACH;;EACD,UAAID,MAAM,GAAGE,iBAAiB,CAACb,QAAD,CAA9B;EACArD,MAAAA,EAAE,CAACgE,MAAH,GAAYA,MAAZ;EACH;EACJ,GAbD;EAcH;;ECzBD,SAASP,GAAT,CAAaxD,OAAb,EAAqB;EACjB,OAAKyD,KAAL,CAAWzD,OAAX;EACH;;EAGDuD,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}